<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üèÜ Lee's Empire Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .style-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }

        .style-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            color: white;
        }

        .style-btn.punchy { background: linear-gradient(45deg, #ff6b6b, #ee5a24); }
        .style-btn.professional { background: linear-gradient(45deg, #2c3e50, #34495e); }
        .style-btn.minimal { background: linear-gradient(45deg, #95a5a6, #7f8c8d); }
        .style-btn.active { transform: scale(1.1); box-shadow: 0 5px 15px rgba(0,0,0,0.3); }

        .group-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .group-tab {
            padding: 12px 24px;
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 25px;
            color: white;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .group-tab.active {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .add-group-btn {
            background: linear-gradient(45deg, #00b894, #00a085);
            border: 2px dashed rgba(255,255,255,0.5);
        }

        .empire-score-section {
            text-align: center;
            margin-bottom: 30px;
        }

        .empire-score-card {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 0 auto;
            max-width: 400px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .empire-score {
            font-size: 4rem;
            font-weight: bold;
            color: #ffd700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 10px;
        }

        .empire-grade {
            font-size: 1.5rem;
            color: white;
            margin-bottom: 15px;
        }

        .urgent-alerts {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            color: white;
        }

        .alert-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            margin-bottom: 10px;
        }

        .alert-icon {
            font-size: 1.5rem;
        }

        .businesses-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .business-card {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }

        .business-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .business-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .business-name {
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
        }

        .business-score {
            font-size: 2rem;
            font-weight: bold;
            color: #ffd700;
        }

        .platform-reviews {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .platform-card {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .platform-card:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.05);
        }

        .platform-name {
            font-weight: bold;
            color: white;
            margin-bottom: 5px;
        }

        .platform-stats {
            color: #ecf0f1;
            font-size: 0.9rem;
        }

        .urgent-badge {
            background: #e74c3c;
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.8rem;
            margin-left: 5px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
        }

        .modal-header {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }

        .form-group input {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
        }

        .btn-secondary {
            background: #95a5a6;
            color: white;
            margin-left: 10px;
        }

        .reviews-modal {
            max-width: 800px;
        }

        .review-item {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #3498db;
        }

        .review-urgent {
            border-left-color: #e74c3c;
            background: #fdf2f2;
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .review-rating {
            color: #f39c12;
            font-weight: bold;
        }

        .review-date {
            color: #7f8c8d;
            font-size: 0.9rem;
        }

        .review-text {
            color: #2c3e50;
            line-height: 1.5;
            margin-bottom: 10px;
        }

        .review-actions {
            display: flex;
            gap: 10px;
        }

        .btn-small {
            padding: 5px 12px;
            font-size: 0.8rem;
        }

        /* Professional Style */
        .professional .dashboard-container {
            background: #f8f9fa;
            color: #2c3e50;
        }

        .professional body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }

        .professional .business-card {
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .professional .business-name {
            color: #2c3e50;
        }

        .professional .platform-name {
            color: #34495e;
        }

        /* Minimal Style */
        .minimal body {
            background: #ffffff;
        }

        .minimal .dashboard-container {
            color: #333;
        }

        .minimal .business-card {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
        }

        .minimal .business-name {
            color: #495057;
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <div class="header">
            <h1>üèÜ Lee's Empire Dashboard</h1>
            <p>Multi-Business Intelligence Platform</p>
        </div>

        <!-- Style Selector -->
        <div class="style-selector">
            <button class="style-btn punchy active" onclick="changeStyle('punchy')">üî• Punchy</button>
            <button class="style-btn professional" onclick="changeStyle('professional')">üíº Professional</button>
            <button class="style-btn minimal" onclick="changeStyle('minimal')">‚ö™ Minimal</button>
        </div>

        <!-- Group Tabs -->
        <div class="group-tabs">
            <button class="group-tab active" onclick="showGroup('all')">All Businesses</button>
            <button class="group-tab" onclick="showGroup('restaurants')">Restaurants</button>
            <button class="group-tab" onclick="showGroup('pubs')">Pubs</button>
            <button class="group-tab add-group-btn" onclick="showAddGroupModal()">+ Add Group</button>
        </div>

        <!-- Empire Score Section -->
        <div class="empire-score-section">
            <div class="empire-score-card">
                <div class="empire-score" id="groupEmpireScore">4.59</div>
                <div class="empire-grade" id="groupEmpireGrade">üèÜ DOMINANT</div>
                <div style="color: rgba(255,255,255,0.8);">
                    <span id="groupBusinessCount">2</span> businesses ‚Ä¢ 
                    <span id="groupReviewCount">944</span> total reviews
                </div>
            </div>
        </div>

        <!-- Urgent Alerts -->
        <div class="urgent-alerts">
            <h3>üö® Urgent Attention Required</h3>
            <div class="alert-item">
                <span class="alert-icon">üò°</span>
                <div>
                    <strong>The Bar</strong> - 2 angry customers (1-2 star reviews) need immediate response
                    <button class="btn btn-small" onclick="showReviews('the-bar', 'urgent')" style="margin-left: 10px;">View Reviews</button>
                </div>
            </div>
            <div class="alert-item">
                <span class="alert-icon">‚ùì</span>
                <div>
                    <strong>The Legionnaire</strong> - 3 unanswered customer questions from this week
                    <button class="btn btn-small" onclick="showReviews('legionnaire', 'questions')" style="margin-left: 10px;">View Questions</button>
                </div>
            </div>
        </div>

        <!-- Businesses Grid -->
        <div class="businesses-grid" id="businessesGrid">
            <!-- The Bar (Restaurant) -->
            <div class="business-card" data-group="restaurants">
                <div class="business-header">
                    <div class="business-name">üçΩÔ∏è The Bar</div>
                    <div class="business-score">4.59</div>
                </div>
                
                <div class="platform-reviews">
                    <div class="platform-card" onclick="showReviews('the-bar', 'tripadvisor')">
                        <div class="platform-name">TripAdvisor</div>
                        <div class="platform-stats">
                            399 reviews<br>
                            4.57/5 ‚≠ê
                            <span class="urgent-badge">2 Urgent</span>
                        </div>
                    </div>
                    <div class="platform-card" onclick="showReviews('the-bar', 'google')">
                        <div class="platform-name">Google</div>
                        <div class="platform-stats">
                            474 reviews<br>
                            4.6/5 ‚≠ê
                            <span class="urgent-badge">1 Urgent</span>
                        </div>
                    </div>
                    <div class="platform-card" onclick="showReviews('the-bar', 'facebook')">
                        <div class="platform-name">Facebook</div>
                        <div class="platform-stats">
                            71 reviews<br>
                            4.6/5 ‚≠ê
                        </div>
                    </div>
                </div>
                
                <div style="color: rgba(255,255,255,0.8); text-align: center;">
                    Last updated: 2 hours ago
                </div>
            </div>

            <!-- The Legionnaire (Pub) -->
            <div class="business-card" data-group="pubs">
                <div class="business-header">
                    <div class="business-name">üç∫ The Legionnaire</div>
                    <div class="business-score">4.60</div>
                </div>
                
                <div class="platform-reviews">
                    <div class="platform-card" onclick="showReviews('legionnaire', 'tripadvisor')">
                        <div class="platform-name">TripAdvisor</div>
                        <div class="platform-stats">
                            No presence<br>
                            <em>Opportunity</em>
                        </div>
                    </div>
                    <div class="platform-card" onclick="showReviews('legionnaire', 'google')">
                        <div class="platform-name">Google</div>
                        <div class="platform-stats">
                            71 reviews<br>
                            4.6/5 ‚≠ê
                            <span class="urgent-badge">3 Questions</span>
                        </div>
                    </div>
                    <div class="platform-card" onclick="showReviews('legionnaire', 'facebook')">
                        <div class="platform-name">Facebook</div>
                        <div class="platform-stats">
                            23 posts<br>
                            Good engagement
                        </div>
                    </div>
                </div>
                
                <div style="color: rgba(255,255,255,0.8); text-align: center;">
                    Last updated: 4 hours ago
                </div>
            </div>
        </div>
    </div>

    <!-- Add Group Modal -->
    <div id="addGroupModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">Add New Business Group</div>
            <div class="form-group">
                <label for="groupName">Group Name:</label>
                <input type="text" id="groupName" placeholder="e.g., Hotels, Cafes, etc.">
            </div>
            <div>
                <button class="btn btn-primary" onclick="addGroup()">Create Group</button>
                <button class="btn btn-secondary" onclick="closeModal('addGroupModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Reviews Modal -->
    <div id="reviewsModal" class="modal">
        <div class="modal-content reviews-modal">
            <div class="modal-header" id="reviewsModalHeader">Reviews</div>
            <div id="reviewsContent">
                <!-- Reviews will be loaded here -->
            </div>
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn btn-secondary" onclick="closeModal('reviewsModal')">Close</button>
            </div>
        </div>
    </div>

    <script>
        // Sample data
        const businessData = {
            'the-bar': {
                name: 'The Bar',
                group: 'restaurants',
                tripadvisor: {
                    reviews: [
                        {
                            rating: 1,
                            date: '2025-06-17',
                            text: 'Terrible service! Waited 45 minutes for food that was cold when it arrived. Staff were rude and unhelpful.',
                            urgent: true,
                            type: 'angry'
                        },
                        {
                            rating: 2,
                            date: '2025-06-16',
                            text: 'Very disappointed. The food was overpriced and underwhelming. Will not be returning.',
                            urgent: true,
                            type: 'angry'
                        },
                        {
                            rating: 5,
                            date: '2025-06-15',
                            text: 'Amazing food and great atmosphere! Liam was particularly helpful.',
                            urgent: false
                        }
                    ]
                },
                google: {
                    reviews: [
                        {
                            rating: 1,
                            date: '2025-06-17',
                            text: 'Do you have vegetarian options? I called but no one answered.',
                            urgent: true,
                            type: 'question'
                        },
                        {
                            rating: 5,
                            date: '2025-06-16',
                            text: 'Great place for a meal with a view!',
                            urgent: false
                        }
                    ]
                },
                facebook: {
                    reviews: [
                        {
                            rating: 5,
                            date: '2025-06-15',
                            text: 'Love this place! Great food and service.',
                            urgent: false
                        }
                    ]
                }
            },
            'legionnaire': {
                name: 'The Legionnaire',
                group: 'pubs',
                google: {
                    reviews: [
                        {
                            rating: 4,
                            date: '2025-06-17',
                            text: 'What time do you close on Sundays?',
                            urgent: true,
                            type: 'question'
                        },
                        {
                            rating: 4,
                            date: '2025-06-16',
                            text: 'Do you show live sports? Planning to watch the match this weekend.',
                            urgent: true,
                            type: 'question'
                        },
                        {
                            rating: 3,
                            date: '2025-06-15',
                            text: 'Is there parking available? Couldn\'t find any last time I visited.',
                            urgent: true,
                            type: 'question'
                        }
                    ]
                }
            }
        };

        let currentGroup = 'all';
        let currentStyle = 'punchy';
        let customGroups = [];

        function changeStyle(style) {
            // Remove all style classes
            document.body.classList.remove('punchy', 'professional', 'minimal');
            
            // Add new style class
            document.body.classList.add(style);
            currentStyle = style;
            
            // Update active button
            document.querySelectorAll('.style-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`.style-btn.${style}`).classList.add('active');
        }

        function showGroup(group) {
            currentGroup = group;
            
            // Update active tab
            document.querySelectorAll('.group-tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            
            // Filter businesses
            const businessCards = document.querySelectorAll('.business-card');
            businessCards.forEach(card => {
                if (group === 'all' || card.dataset.group === group) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
            
            // Update empire score
            updateGroupScore(group);
        }

        function updateGroupScore(group) {
            let businesses = [];
            let totalReviews = 0;
            
            if (group === 'all') {
                businesses = ['The Bar', 'The Legionnaire'];
                totalReviews = 944;
                document.getElementById('groupEmpireScore').textContent = '4.59';
                document.getElementById('groupEmpireGrade').textContent = 'üèÜ DOMINANT';
            } else if (group === 'restaurants') {
                businesses = ['The Bar'];
                totalReviews = 873;
                document.getElementById('groupEmpireScore').textContent = '4.59';
                document.getElementById('groupEmpireGrade').textContent = 'üèÜ DOMINANT';
            } else if (group === 'pubs') {
                businesses = ['The Legionnaire'];
                totalReviews = 71;
                document.getElementById('groupEmpireScore').textContent = '4.60';
                document.getElementById('groupEmpireGrade').textContent = 'üèÜ DOMINANT';
            }
            
            document.getElementById('groupBusinessCount').textContent = businesses.length;
            document.getElementById('groupReviewCount').textContent = totalReviews;
        }

        function showAddGroupModal() {
            document.getElementById('addGroupModal').style.display = 'block';
        }

        function addGroup() {
            const groupName = document.getElementById('groupName').value.trim();
            if (groupName) {
                // Add new group tab
                const groupTabs = document.querySelector('.group-tabs');
                const addButton = document.querySelector('.add-group-btn');
                
                const newTab = document.createElement('button');
                newTab.className = 'group-tab';
                newTab.textContent = groupName;
                newTab.onclick = () => showGroup(groupName.toLowerCase());
                
                groupTabs.insertBefore(newTab, addButton);
                customGroups.push(groupName.toLowerCase());
                
                closeModal('addGroupModal');
                document.getElementById('groupName').value = '';
            }
        }

        function showReviews(business, platform) {
            const businessName = businessData[business]?.name || business;
            const platformData = businessData[business]?.[platform];
            
            document.getElementById('reviewsModalHeader').textContent = 
                `${businessName} - ${platform.charAt(0).toUpperCase() + platform.slice(1)} Reviews`;
            
            let reviewsHTML = '';
            
            if (platformData && platformData.reviews) {
                platformData.reviews.forEach(review => {
                    const urgentClass = review.urgent ? 'review-urgent' : '';
                    const urgentBadge = review.urgent ? 
                        `<span class="urgent-badge">${review.type === 'question' ? 'Question' : 'Urgent'}</span>` : '';
                    
                    reviewsHTML += `
                        <div class="review-item ${urgentClass}">
                            <div class="review-header">
                                <div class="review-rating">${'‚≠ê'.repeat(review.rating)} (${review.rating}/5)</div>
                                <div class="review-date">${review.date} ${urgentBadge}</div>
                            </div>
                            <div class="review-text">${review.text}</div>
                            <div class="review-actions">
                                <button class="btn btn-primary btn-small">Generate Reply</button>
                                <button class="btn btn-secondary btn-small">Mark as Read</button>
                                ${review.urgent ? '<button class="btn btn-small" style="background: #e74c3c; color: white;">Priority Response</button>' : ''}
                            </div>
                        </div>
                    `;
                });
            } else {
                reviewsHTML = '<p>No reviews available for this platform.</p>';
            }
            
            document.getElementById('reviewsContent').innerHTML = reviewsHTML;
            document.getElementById('reviewsModal').style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }

        // Initialize
        updateGroupScore('all');
    </script>
</body>
</html>
